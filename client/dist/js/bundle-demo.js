!function(e){function n(t){if(o[t])return o[t].exports;var r=o[t]={exports:{},id:t,loaded:!1};return e[t].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}var o={};return n.m=e,n.c=o,n.p="",n(0)}([function(e,n,o){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var r=o(1),s=t(r),i={url:"ws://localhost:13421",debug:!0},u=o(2);u.init(i);var c=new s["default"]({url:i.url});c.send({type:"ping"})},function(e,n,o){"use strict";function t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,n){for(var o=0;o<n.length;o++){var t=n[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,o,t){return o&&e(n.prototype,o),t&&e(n,t),n}}(),s=o(2),i=["onopen","onclose","onmessage","onerror"],u=function(){function e(n){t(this,e);var o=this;o.option=n,o.url=n.url,o.deffered=100,i.forEach(function(e){e in n&&(o[e]=n[e])}),o.connect()}return r(e,[{key:"connect",value:function(){var e=this;e.isReady=!1,e.wso=new WebSocket(e.url,"marvin42"),e.queue=[],i.forEach(function(n){e.wso[n]=e["_"+n].bind(e)})}},{key:"send",value:function(e){this.isReady?this.sendText(JSON.stringify(e)):this.queue.push(JSON.stringify(e))}},{key:"sendNext",value:function(){this.queue.length>0&&(this.sendText(this.queue.shift()),this.sendNext())}},{key:"sendText",value:function(e){this.wso.send(e)}},{key:"_onopen",value:function(e){return s.log("OPENED",e),this.isReady=!0,this.deffered=100,this.sendNext(),this.onopen&&this.opopen(e)}},{key:"_onclose",value:function(e){var n=this;return n.isReady=!1,s.log("CLOSED","reconnect after "+n.deffered+"ms."),setTimeout(function(){n.deffered+=2e3,n.connect()},n.deffered),this.onclose&&this.onclose(e)}},{key:"_onmessage",value:function(e){var n,o=this;try{n=JSON.parse(e.data)}catch(t){return s.err("ParseError",e.data),o.onmessage&&o.onmessage({proto:"ParseError"})}return o.onmessage&&o.onmessage(n)}},{key:"_onerror",value:function(e){return s.log(e),this.onerror&&this.onerror(e)}}]),e}();n["default"]=u},function(e,n){"use strict";var o;e.exports={init:function(e){o=e},log:function(e,n){o.debug&&(void 0===n&&(n=e,e="DEFAULT"),console.log("%c[LOG]%c[%s]:","color:green","color:blue",e),console.log(n))},err:function(e,n){o.debug&&(void 0===n&&(n=e,e="DEFAULT"),console.log("%c[ERR]%c[%s]:","color:red","color:blue",e),console.log(n))}}}]);